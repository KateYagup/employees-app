import React from 'react';
import { useParams } from 'react-router-dom';
import { useSelector } from 'react-redux';
import moment from 'moment';
import './workerData.scss';
import { monthInRus } from '../../utils/dateUtils.js';

const WorkerData = () => {
  const { id } = useParams();
  const employee = useSelector(state => state.workers.workers.find(worker => worker.id === id));
  const { avatar, position, tag, name, phone, birthDate, email } = employee;
  const age = moment(moment()).diff(birthDate, 'years');
  const month = moment(birthDate).format('M');
  const year = moment(birthDate).format('YYYY');
  const date = moment(birthDate).format('DD');

  return (
    <div>
      <div className="workerData__top">
        <img src={avatar} alt="" style={{ height: '104px', 'border-radius': '50%' }} />
        <p className="workerData__name">
          {name} <span className="workerData__tag">{tag}</span>
        </p>
        <p className="workerData__position">{position}</p>
      </div>
      <div className="workerData__bottom">
        <div className="workerData__birth">
          <p className="workerData__birth-data">
            <p>
              <span style={{ 'text-height': '24px' }}>
                <svg
                  width="21"
                  height="20"
                  viewBox="0 0 21 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M20 7.6699C19.9368 7.48699 19.822 7.32633 19.6693 7.2074C19.5167 7.08848 19.3328 7.0164 19.14 6.9999L13.45 6.1699L10.9 0.999901C10.8181 0.83083 10.6902 0.688243 10.5311 0.588475C10.3719 0.488706 10.1878 0.435791 9.99998 0.435791C9.81212 0.435791 9.62806 0.488706 9.46889 0.588475C9.30971 0.688243 9.18186 0.83083 9.09998 0.999901L6.54998 6.1599L0.859977 6.9999C0.6749 7.02621 0.500902 7.10386 0.357728 7.22406C0.214554 7.34425 0.107937 7.50218 0.0499774 7.6799C-0.00307759 7.85358 -0.00783865 8.03842 0.0362052 8.21459C0.080249 8.39077 0.171435 8.55163 0.299977 8.6799L4.42998 12.6799L3.42998 18.3599C3.3896 18.5483 3.40453 18.7444 3.47296 18.9245C3.54139 19.1047 3.66041 19.2612 3.81571 19.3753C3.971 19.4894 4.15595 19.5562 4.34831 19.5676C4.54066 19.5791 4.73224 19.5347 4.89998 19.4399L9.99998 16.7699L15.1 19.4399C15.2403 19.5191 15.3988 19.5604 15.56 19.5599C15.7718 19.5607 15.9784 19.4941 16.15 19.3699C16.3051 19.2588 16.4252 19.1055 16.4961 18.9284C16.567 18.7512 16.5857 18.5574 16.55 18.3699L15.55 12.6899L19.68 8.6899C19.8244 8.56758 19.9311 8.4068 19.9877 8.22625C20.0444 8.0457 20.0486 7.85278 20 7.6699ZM13.85 11.6699C13.7342 11.7823 13.6474 11.9211 13.5969 12.0743C13.5464 12.2275 13.5337 12.3907 13.56 12.5499L14.28 16.7499L10.52 14.7499C10.3738 14.6776 10.213 14.64 10.05 14.64C9.88694 14.64 9.72611 14.6776 9.57998 14.7499L5.81998 16.7499L6.53998 12.5499C6.56622 12.3907 6.55354 12.2275 6.50305 12.0743C6.45255 11.9211 6.36572 11.7823 6.24998 11.6699L3.24998 8.6699L7.45998 8.0599C7.62198 8.03737 7.77598 7.97544 7.90848 7.87955C8.04098 7.78366 8.14794 7.65674 8.21998 7.5099L9.99998 3.6999L11.88 7.5199C11.952 7.66674 12.059 7.79366 12.1915 7.88955C12.324 7.98544 12.478 8.04737 12.64 8.0699L16.85 8.6799L13.85 11.6699Z"
                    fill="#050510"
                  />
                </svg>
              </span>
              <span style={{ 'margin-left': '18px' }}>
                {date} {monthInRus[month]} {year}
              </span>
            </p>
            <span className="workerData__age">
              {age} {age < 25 ? ' года' : ' лет'}
            </span>
          </p>
        </div>
        <p>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19.4401 13.0001C19.2201 13.0001 18.9901 12.9301 18.7701 12.8801C18.3246 12.7819 17.8868 12.6516 17.4601 12.4901C16.9962 12.3213 16.4862 12.3301 16.0284 12.5147C15.5706 12.6993 15.1972 13.0467 14.9801 13.4901L14.7601 13.9401C13.7861 13.3983 12.8911 12.7253 12.1001 11.9401C11.3149 11.1491 10.6419 10.2541 10.1001 9.28011L10.5201 9.00011C10.9635 8.78303 11.3109 8.40964 11.4955 7.9518C11.6801 7.49396 11.6889 6.98402 11.5201 6.52011C11.3613 6.09253 11.231 5.65491 11.1301 5.21011C11.0801 4.99011 11.0401 4.76011 11.0101 4.53011C10.8887 3.82573 10.5197 3.18785 9.96972 2.73135C9.41972 2.27485 8.7248 2.02972 8.0101 2.04011L5.0101 2.04011C4.57913 2.03607 4.15235 2.12493 3.75881 2.30064C3.36527 2.47636 3.01421 2.73481 2.72953 3.05839C2.44485 3.38198 2.23324 3.76311 2.10909 4.17583C1.98494 4.58855 1.95118 5.02317 2.0101 5.45011C2.54284 9.63949 4.45613 13.532 7.44775 16.5127C10.4394 19.4935 14.3388 21.3926 18.5301 21.9101H18.9101C19.6475 21.9112 20.3595 21.6406 20.9101 21.1501C21.2265 20.8672 21.4792 20.5203 21.6516 20.1324C21.8239 19.7446 21.9121 19.3245 21.9101 18.9001V15.9001C21.8979 15.2055 21.6449 14.5367 21.1944 14.0078C20.744 13.4789 20.1239 13.1227 19.4401 13.0001ZM19.9401 19.0001C19.9399 19.1421 19.9095 19.2824 19.8509 19.4117C19.7923 19.5411 19.7068 19.6564 19.6001 19.7501C19.4884 19.8466 19.3577 19.9187 19.2165 19.9617C19.0753 20.0048 18.9267 20.0178 18.7801 20.0001C15.035 19.5199 11.5563 17.8066 8.89282 15.1304C6.2293 12.4542 4.53251 8.96745 4.0701 5.22011C4.05419 5.07363 4.06813 4.92544 4.1111 4.7845C4.15407 4.64356 4.22517 4.5128 4.3201 4.40011C4.41381 4.29344 4.52916 4.20795 4.65848 4.14933C4.7878 4.09071 4.92812 4.06029 5.0701 4.06011L8.0701 4.06011C8.30265 4.05494 8.52972 4.13099 8.71224 4.27518C8.89476 4.41937 9.02131 4.62268 9.0701 4.85011C9.1101 5.12345 9.1601 5.39345 9.2201 5.66011C9.33562 6.18726 9.48936 6.70529 9.6801 7.21011L8.2801 7.86011C8.1604 7.91503 8.05272 7.99306 7.96326 8.08971C7.87379 8.18636 7.8043 8.29973 7.75877 8.42331C7.71324 8.54689 7.69257 8.67824 7.69795 8.80983C7.70332 8.94142 7.73464 9.07066 7.7901 9.19011C9.2293 12.2729 11.7073 14.7509 14.7901 16.1901C15.0336 16.2901 15.3066 16.2901 15.5501 16.1901C15.6748 16.1455 15.7894 16.0766 15.8873 15.9873C15.9851 15.898 16.0643 15.7902 16.1201 15.6701L16.7401 14.2701C17.2571 14.455 17.7847 14.6086 18.3201 14.7301C18.5868 14.7901 18.8568 14.8401 19.1301 14.8801C19.3575 14.9289 19.5608 15.0554 19.705 15.238C19.8492 15.4205 19.9253 15.6476 19.9201 15.8801L19.9401 19.0001Z"
              fill="#050510"
            />
          </svg>
          <span style={{ 'margin-left': '14px' }}>{phone}</span>
        </p>
        <div className="workerData__phone">
          <p>
            <svg
              width="24"
              height="24"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
              focusable="false"
              aria-hidden="true"
              viewBox="0 0 24 24"
              data-testid="EmailOutlinedIcon"
            >
              <path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zm-2 0-8 5-8-5zm0 12H4V8l8 5 8-5z"></path>
            </svg>
            <span style={{ 'margin-left': '14px' }}>{email}</span>
          </p>
        </div>
      </div>
    </div>
  );
};

export default WorkerData;
